# This is a plain-text Dockerfile (no file extension) located at ingest/Dockerfile. Docker Compose uses this file to build the ingest service image.
# What you need to do with this file:

# Create a folder named ingest/ in your project root.

# Inside ingest/, save this snippet as a file named exactly Dockerfile (no extension).

# Create a requirements.txt next to it listing:

##### neo4j-driver      # Neo4j Bolt driver for Python
##### python-dotenv     # Load .env files for credentials

# Ensure your email_ingest.py script resides in the same ingest/ folder.

# When you run docker-compose up --build, Docker will read this ingest/Dockerfile and build the ingest service image automatically.



FROM python:3.11-slim           # Base image: minimal Python 3.11
WORKDIR /app                    # Set working directory inside container
COPY requirements.txt .         # Copy Python dependencies list
RUN pip install -r requirements.txt  # Install neo4j-driver, python-dotenv
COPY email_ingest.py .          # Copy the ingestion script into container
CMD ["python", "email_ingest.py"]  # Default command to run on container start

